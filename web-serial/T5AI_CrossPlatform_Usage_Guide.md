# T5AIè·¨å¹³å°ä¼˜åŒ–ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

T5AIä¸‹è½½å™¨ç°å·²é›†æˆè·¨å¹³å°ä¿¡å·æ§åˆ¶å™¨ï¼Œå¯è‡ªåŠ¨è§£å†³Ubuntuã€macOSã€Windowsç­‰ä¸åŒå¹³å°çš„å…¼å®¹æ€§é—®é¢˜ã€‚æ–°çš„ä¿¡å·æ§åˆ¶å™¨æ”¯æŒå¤šç§å¤ä½ç­–ç•¥ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹å¹³å°å¹¶é€‰æ‹©æœ€ä½³ç­–ç•¥ï¼Œæ˜¾è‘—æå‡T5AIåœ¨Linuxç³»ç»Ÿä¸‹çš„æˆåŠŸç‡ã€‚

## ä¸»è¦ç‰¹æ€§

### âœ¨ è‡ªåŠ¨å¹³å°æ£€æµ‹
- è‡ªåŠ¨è¯†åˆ«Windowsã€Ubuntu/Linuxã€macOSå¹³å°
- æ ¹æ®å¹³å°ç‰¹æ€§é€‰æ‹©æœ€ä¼˜å¤ä½ç­–ç•¥
- æ”¯æŒæ‰‹åŠ¨æŒ‡å®šé¦–é€‰ç­–ç•¥

### ğŸ”„ å¤šç­–ç•¥å¤ä½æœºåˆ¶
- **standard**: æ ‡å‡†DTR+RTSç»„åˆæ§åˆ¶ï¼ˆWindowsä¼˜é€‰ï¼‰
- **separated**: åˆ†ç¦»DTR/RTSæ§åˆ¶ï¼ˆUbuntu/Linuxå…¼å®¹ï¼‰
- **dtr_only**: DTRå•ç‹¬æ§åˆ¶ï¼ˆmacOSå…¼å®¹ï¼‰
- **extended_timing**: æ‰©å±•æ—¶åºæ§åˆ¶ï¼ˆç¡¬ä»¶å…¼å®¹ï¼‰
- **rts_only**: RTSå•ç‹¬æ§åˆ¶ï¼ˆç‰¹æ®Šç¡¬ä»¶å…¼å®¹ï¼‰

### ğŸ›¡ï¸ æ™ºèƒ½é™çº§å¤„ç†
- ç­–ç•¥å¤±è´¥æ—¶è‡ªåŠ¨å°è¯•å…¶ä»–ç­–ç•¥
- å¹³å°ç‰¹å®šçš„é™çº§é¡ºåºä¼˜åŒ–
- è¯¦ç»†çš„é”™è¯¯è¯Šæ–­å’Œæ—¥å¿—è®°å½•

### ğŸ“Š æ€§èƒ½ç»Ÿè®¡å’Œç›‘æ§
- å®æ—¶è®°å½•å¤ä½æˆåŠŸç‡
- ç­–ç•¥ä½¿ç”¨ç»Ÿè®¡
- æ€§èƒ½æŒ‡æ ‡åˆ†æ

## ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä½¿ç”¨

T5AIè·¨å¹³å°ä¼˜åŒ–é»˜è®¤å¯ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼š

```javascript
// åˆ›å»ºT5AIä¸‹è½½å™¨ï¼ˆè‡ªåŠ¨å¯ç”¨è·¨å¹³å°ä¼˜åŒ–ï¼‰
const t5aiDownloader = new T5Downloader(serialPort, debugCallback);

// æ­£å¸¸ä½¿ç”¨ï¼Œä¿¡å·æ§åˆ¶å™¨ä¼šè‡ªåŠ¨å¤„ç†å¹³å°å…¼å®¹æ€§
await t5aiDownloader.connect();
```

### é«˜çº§é…ç½®

å¦‚éœ€è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä¼ å…¥é€‰é¡¹ï¼š

```javascript
const options = {
    enableSignalController: true,     // å¯ç”¨ä¿¡å·æ§åˆ¶å™¨ï¼ˆé»˜è®¤trueï¼‰
    preferredStrategy: 'auto',        // é¦–é€‰ç­–ç•¥ï¼ˆé»˜è®¤'auto'ï¼‰
    debugSignalControl: true          // å¯ç”¨è¯¦ç»†è°ƒè¯•æ—¥å¿—ï¼ˆé»˜è®¤falseï¼‰
};

const t5aiDownloader = new T5Downloader(serialPort, debugCallback, options);
```

### é…ç½®é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|---------|------|
| `enableSignalController` | boolean | `true` | æ˜¯å¦å¯ç”¨æ–°çš„ä¿¡å·æ§åˆ¶å™¨ |
| `preferredStrategy` | string | `'auto'` | é¦–é€‰å¤ä½ç­–ç•¥ï¼Œå¯é€‰ï¼š`'auto'`ã€`'standard'`ã€`'separated'`ã€`'dtr_only'`ã€`'extended_timing'`ã€`'rts_only'` |
| `debugSignalControl` | boolean | `false` | æ˜¯å¦è¾“å‡ºè¯¦ç»†çš„ä¿¡å·æ§åˆ¶è°ƒè¯•æ—¥å¿— |

## ç­–ç•¥è¯¦è§£

### 1. autoï¼ˆè‡ªåŠ¨é€‰æ‹©ï¼‰
- æ ¹æ®å¹³å°è‡ªåŠ¨é€‰æ‹©æœ€ä½³ç­–ç•¥
- Linux â†’ `separated`
- macOS â†’ `dtr_only`
- Windows â†’ `standard`
- ç¼“å­˜æˆåŠŸç­–ç•¥ï¼Œä¸‹æ¬¡è¿æ¥ä¼˜å…ˆä½¿ç”¨

### 2. standardï¼ˆæ ‡å‡†ç­–ç•¥ï¼‰
- åŒæ—¶è®¾ç½®DTR=false, RTS=true
- ç­‰å¾…300msåè®¾ç½®RTS=false
- é€‚ç”¨äºWindowså¹³å°
- å…¼å®¹åŸæœ‰T5AIå®ç°

### 3. separatedï¼ˆåˆ†ç¦»ç­–ç•¥ï¼‰
- åˆ†æ­¥è®¾ç½®DTRå’ŒRTSä¿¡å·
- é¿å…åŒæ—¶è®¾ç½®å¤šä¸ªä¿¡å·å¯¼è‡´çš„Linuxé©±åŠ¨é—®é¢˜
- Ubuntu/Linuxå¹³å°ä¼˜é€‰ç­–ç•¥

### 4. dtr_onlyï¼ˆDTRå•ç‹¬ç­–ç•¥ï¼‰
- ä»…ä½¿ç”¨DTRä¿¡å·è¿›è¡Œå¤ä½
- é¿å…RTSä¿¡å·å¹²æ‰°
- macOSå¹³å°ä¼˜é€‰ç­–ç•¥

### 5. extended_timingï¼ˆæ‰©å±•æ—¶åºç­–ç•¥ï¼‰
- ä½¿ç”¨æ›´é•¿çš„ä¿¡å·ä¿æŒæ—¶é—´
- é€‚ç”¨äºå¯¹æ—¶åºæ•æ„Ÿçš„ç¡¬ä»¶
- å…¼å®¹æ€§æœ€å¹¿ä½†é€Ÿåº¦è¾ƒæ…¢

### 6. rts_onlyï¼ˆRTSå•ç‹¬ç­–ç•¥ï¼‰
- ä»…ä½¿ç”¨RTSä¿¡å·è¿›è¡Œå¤ä½
- ç‰¹æ®Šç¡¬ä»¶å…¼å®¹æ€§ç­–ç•¥

## æµ‹è¯•å’Œè¯Šæ–­

### å…¼å®¹æ€§æµ‹è¯•

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå…¼å®¹æ€§æµ‹è¯•ï¼š

```javascript
// è¿è¡Œå®Œæ•´çš„å…¼å®¹æ€§æµ‹è¯•
testT5AISignalController().then(result => {
    console.log('æµ‹è¯•ç»“æœ:', result);
});

// æµ‹è¯•ç‰¹å®šç­–ç•¥
testT5AIResetStrategy('separated').then(result => {
    console.log('åˆ†ç¦»ç­–ç•¥æµ‹è¯•ç»“æœ:', result);
});

// è·å–æ€§èƒ½ç»Ÿè®¡
const stats = getT5AIPerformanceStats();
console.log('æ€§èƒ½ç»Ÿè®¡:', stats);
```

### è°ƒè¯•æ—¥å¿—

å¯ç”¨è¯¦ç»†è°ƒè¯•æ—¥å¿—æ¥è¯Šæ–­é—®é¢˜ï¼š

```javascript
const options = {
    debugSignalControl: true
};
const t5aiDownloader = new T5Downloader(serialPort, debugCallback, options);
```

### æ€§èƒ½ç»Ÿè®¡

è·å–ä¿¡å·æ§åˆ¶å™¨æ€§èƒ½ç»Ÿè®¡ï¼š

```javascript
const metrics = t5aiDownloader.getSignalControllerMetrics();
console.log('æ€§èƒ½æŒ‡æ ‡:', metrics);

/*
è¾“å‡ºç¤ºä¾‹ï¼š
{
    platform: "linux",
    totalResetAttempts: 15,
    totalResetSuccesses: 14,
    overallSuccessRate: "93.33%",
    successfulStrategy: "separated",
    strategyStats: {
        separated: { attempts: 10, successes: 9, successRate: "90.00%" },
        standard: { attempts: 5, successes: 5, successRate: "100.00%" }
    }
}
*/
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Ubuntuä¸‹è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼šT5AIåœ¨Ubuntuä¸‹æ— æ³•è·å–æ€»çº¿æ§åˆ¶æƒ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤å·²å¯ç”¨ä¿¡å·æ§åˆ¶å™¨ï¼š`enableSignalController: true`
- å°è¯•æ‰‹åŠ¨æŒ‡å®šåˆ†ç¦»ç­–ç•¥ï¼š`preferredStrategy: 'separated'`
- æ£€æŸ¥USBçº¿ç¼†å’Œç¡¬ä»¶è¿æ¥

#### 2. macOSä¸‹è¿æ¥ä¸ç¨³å®š

**ç—‡çŠ¶**ï¼šmacOSä¸‹è¿æ¥æˆåŠŸç‡è¾ƒä½

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å°è¯•DTRå•ç‹¬ç­–ç•¥ï¼š`preferredStrategy: 'dtr_only'`
- ä½¿ç”¨æ‰©å±•æ—¶åºç­–ç•¥ï¼š`preferredStrategy: 'extended_timing'`
- æ£€æŸ¥macOSä¸²å£æƒé™è®¾ç½®

#### 3. ä¿¡å·æ§åˆ¶å™¨åˆå§‹åŒ–å¤±è´¥

**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æ˜¾ç¤º"ä¿¡å·æ§åˆ¶å™¨åˆå§‹åŒ–å¤±è´¥"

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥è„šæœ¬åŠ è½½é¡ºåº
- ç¡®è®¤SerialManagerå·²æ­£ç¡®åˆå§‹åŒ–
- ç¦ç”¨ä¿¡å·æ§åˆ¶å™¨ä½œä¸ºä¸´æ—¶æ–¹æ¡ˆï¼š`enableSignalController: false`

### æ—¥å¿—åˆ†æ

å¯ç”¨è°ƒè¯•æ¨¡å¼åï¼Œå…³æ³¨ä»¥ä¸‹å…³é”®æ—¥å¿—ï¼š

```
[T5AIä¿¡å·æ§åˆ¶å™¨] T5AIä¿¡å·æ§åˆ¶å™¨åˆå§‹åŒ–å®Œæˆï¼Œæ£€æµ‹åˆ°å¹³å°: linux
[T5AIä¿¡å·æ§åˆ¶å™¨] å¼€å§‹è®¾å¤‡å¤ä½ï¼Œä½¿ç”¨ç­–ç•¥: separated
[T5AIä¿¡å·æ§åˆ¶å™¨] æ‰§è¡Œåˆ†ç¦»å¤ä½: æ­¥éª¤1 - DTR=false
[T5AIä¿¡å·æ§åˆ¶å™¨] æ‰§è¡Œåˆ†ç¦»å¤ä½: æ­¥éª¤2 - RTS=true
[T5AIä¿¡å·æ§åˆ¶å™¨] æ‰§è¡Œåˆ†ç¦»å¤ä½: æ­¥éª¤3 - RTS=false
[T5AIä¿¡å·æ§åˆ¶å™¨] æ‰§è¡Œåˆ†ç¦»å¤ä½: æ­¥éª¤4 - DTR=true
âœ… è®¾å¤‡å¤ä½æˆåŠŸï¼Œç­–ç•¥: separatedï¼Œè€—æ—¶: 412ms
```

### å¼ºåˆ¶é™çº§

å¦‚é‡åˆ°é—®é¢˜ï¼Œå¯å¼ºåˆ¶ç¦ç”¨ä¿¡å·æ§åˆ¶å™¨ï¼š

```javascript
const options = {
    enableSignalController: false  // ç¦ç”¨æ–°åŠŸèƒ½ï¼Œä½¿ç”¨ä¼ ç»Ÿæ¨¡å¼
};
const t5aiDownloader = new T5Downloader(serialPort, debugCallback, options);
```

## å¹³å°ç‰¹å®šè¯´æ˜

### Ubuntu/Linux

- é»˜è®¤ä½¿ç”¨`separated`ç­–ç•¥
- å¦‚é‡é—®é¢˜ï¼Œå¯å°è¯•`dtr_only`æˆ–`extended_timing`
- ç¡®ä¿ç”¨æˆ·å¯¹ä¸²å£è®¾å¤‡æœ‰è®¿é—®æƒé™ï¼š`sudo usermod -a -G dialout $USER`

### macOS

- é»˜è®¤ä½¿ç”¨`dtr_only`ç­–ç•¥
- å¯èƒ½éœ€è¦å®‰è£…USBè½¬ä¸²å£é©±åŠ¨
- æ£€æŸ¥System Preferences â†’ Security & Privacy â†’ Privacy â†’ Developer Tools

### Windows

- é»˜è®¤ä½¿ç”¨`standard`ç­–ç•¥ï¼Œä¸åŸæœ‰è¡Œä¸ºä¸€è‡´
- é€šå¸¸æ— éœ€ç‰¹æ®Šé…ç½®
- ç¡®ä¿USBè½¬ä¸²å£é©±åŠ¨æ­£ç¡®å®‰è£…

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç­–ç•¥ç¼“å­˜

ç³»ç»Ÿä¼šè‡ªåŠ¨ç¼“å­˜æˆåŠŸçš„ç­–ç•¥ï¼Œåç»­è¿æ¥ä¼šä¼˜å…ˆä½¿ç”¨ï¼š

```javascript
// ç¬¬ä¸€æ¬¡è¿æ¥ï¼šå°è¯•autoç­–ç•¥ï¼Œæœ€ç»ˆä½¿ç”¨separatedæˆåŠŸ
// ç¬¬äºŒæ¬¡è¿æ¥ï¼šç›´æ¥ä½¿ç”¨separatedç­–ç•¥ï¼Œè¿æ¥æ›´å¿«
```

### 2. è°ƒè¯•æ¨¡å¼

ä»…åœ¨éœ€è¦æ—¶å¯ç”¨è¯¦ç»†è°ƒè¯•ï¼š

```javascript
// ç”Ÿäº§ç¯å¢ƒ
const options = { debugSignalControl: false };

// è°ƒè¯•ç¯å¢ƒ
const options = { debugSignalControl: true };
```

### 3. ç­–ç•¥é€‰æ‹©

æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ç­–ç•¥ï¼š

- **å¼€å‘æµ‹è¯•**ï¼šä½¿ç”¨`auto`ç­–ç•¥ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨ä¼˜åŒ–
- **ç”Ÿäº§éƒ¨ç½²**ï¼šä½¿ç”¨ç¡®å®šæœ‰æ•ˆçš„ç­–ç•¥ï¼Œå¦‚`separated`
- **é—®é¢˜è¯Šæ–­**ï¼šä½¿ç”¨`extended_timing`ç­–ç•¥ï¼Œæé«˜å…¼å®¹æ€§

## æ›´æ–°æ—¥å¿—

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å®ç°è·¨å¹³å°ä¿¡å·æ§åˆ¶å™¨
- âœ… æ”¯æŒ5ç§å¤ä½ç­–ç•¥
- âœ… è‡ªåŠ¨å¹³å°æ£€æµ‹å’Œç­–ç•¥é€‰æ‹©
- âœ… æ™ºèƒ½é™çº§æœºåˆ¶
- âœ… æ€§èƒ½ç»Ÿè®¡å’Œç›‘æ§
- âœ… å®Œæ•´çš„æµ‹è¯•å·¥å…·
- âœ… å‘åå…¼å®¹æ€§ä¿è¯

### è®¡åˆ’åŠŸèƒ½
- ğŸ”„ æ›´å¤šç¡¬ä»¶ç‰¹å®šä¼˜åŒ–
- ğŸ”„ è¿æ¥ç¼“å­˜å’Œå¤ç”¨æœºåˆ¶
- ğŸ”„ é«˜çº§è°ƒè¯•å’Œè¯Šæ–­åŠŸèƒ½
- ğŸ”„ è‡ªåŠ¨ç­–ç•¥å­¦ä¹ å’Œä¼˜åŒ–

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **å¹³å°ä¿¡æ¯**ï¼šæ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€æµè§ˆå™¨ç‰ˆæœ¬
2. **è®¾å¤‡ä¿¡æ¯**ï¼šT5AIç¡¬ä»¶ç‰ˆæœ¬ã€USBè½¬ä¸²å£èŠ¯ç‰‡å‹å·
3. **é”™è¯¯æ—¥å¿—**ï¼šå¯ç”¨`debugSignalControl: true`åçš„å®Œæ•´æ—¥å¿—
4. **å¤ç°æ­¥éª¤**ï¼šè¯¦ç»†çš„æ“ä½œæ­¥éª¤
5. **æµ‹è¯•ç»“æœ**ï¼šè¿è¡Œ`testT5AISignalController()`çš„ç»“æœ

## æ€»ç»“

T5AIè·¨å¹³å°ä¼˜åŒ–æ˜¾è‘—æå‡äº†Linuxç³»ç»Ÿä¸‹çš„å…¼å®¹æ€§ï¼ŒåŒæ—¶ä¿æŒäº†å¯¹Windowså’ŒmacOSçš„è‰¯å¥½æ”¯æŒã€‚é€šè¿‡æ™ºèƒ½çš„ç­–ç•¥é€‰æ‹©å’Œé™çº§æœºåˆ¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨å„ç§å¹³å°å’Œç¡¬ä»¶ç¯å¢ƒä¸‹ç¨³å®šä½¿ç”¨T5AIä¸‹è½½å™¨ã€‚

æ–°åŠŸèƒ½é»˜è®¤å¯ç”¨ä¸”å‘åå…¼å®¹ï¼Œç°æœ‰ä»£ç æ— éœ€ä¿®æ”¹å³å¯äº«å—è·¨å¹³å°ä¼˜åŒ–å¸¦æ¥çš„ç¨³å®šæ€§æå‡ã€‚å¯¹äºç‰¹æ®Šéœ€æ±‚ï¼Œç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„é…ç½®é€‰é¡¹å’Œè°ƒè¯•å·¥å…·ï¼Œç¡®ä¿èƒ½å¤Ÿé€‚åº”å„ç§ä½¿ç”¨åœºæ™¯ã€‚